\documentclass[convert = false, border=5pt]{standalone}
\input{../common/settings.tex}
\usepackage{amssymb}

\begin{document}
\begin{circuitikz}[european]
    \draw (0,1) node[anchor=east]{$-$} to [short,o-*] (3,1) node[rground]{} to [short, -o] (5,1);
    \draw (4,1) to [Tnpn, *-, name=npnB] (4,3) -- (4,4)
    to [R] (4,6)
    to [short,-o] (0,6) node[anchor=east]{$+$};
    \draw (3,1) -- (3,2) to [Tnpn, name=npnA] (3,4) to [short,-*] (4,4);
    \draw ($(npnB)-(0.18,0)$) circle [radius=14pt];
    \draw ($(npnA)-(0.18,0)$) circle [radius=14pt];
    \draw (4,4) to [short,-o] (5,4) node[anchor=west]{Z};
    \draw (0,2) node[anchor=east]{B} to [R,o-] (2,2) -- (3.2,2);
    \draw (0,3) node[anchor=east]{A} to [R,o-] (2,3) -- (2.2,3);
\end{circuitikz}
\end{document}