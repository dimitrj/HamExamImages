% Author: Dr. Matthias Jung, DL9MJ
% Year: 2020
\documentclass[convert = false, border=5pt]{standalone}
\input{../common/settings.tex}
\usepackage{amsmath}
\usepackage{unicode-math}
\setmathfont{Fira Math}
\setmathfont[range=up]{Roboto}
\setmathfont[range=it]{Roboto-Italic}
\setmathfont[range=\int]{Fira Math}
\usepackage[euler]{textgreek}

\begin{document}
\ctikzset{%
}%

\begin{circuitikz}[american]
    %\tikzstyle{help lines}=[blue!50];
    %\draw[style=help lines] (-6,-4) grid (16,4);
    \draw (0,0) node[transformer, yscale=0.95](T){};
    %%
    \draw (T.A1) node [ocirc](I1){};
    \draw (T.A2) node [ocirc](I2){};
    \draw (T.B1) to [stroke diode] ++(3,0) node[circ](C1){};
    \draw (C1) to [short, -o] ++(1,0);
    %
    %\draw(C1) to [short] ++(0,-2)
    %          to [stroke diode] (T.B2);
    \draw(T.B2) to [short, -o] (5,-1);
    %
    \draw(5.35, 1) node[]{A};
    \draw(5.35,-1) node[]{B};
    %
    \draw (0,0.5) to [short] (0,-0.5);
    %
    \draw(3.75,0.3) node[]{\large +};
    \draw(C1) to [C, -*] ++(0,-2);

    \def\x{0.15}
    \draw[] (-1.3,-0.25) sin ++(\x, \x)
                        cos ++(\x,-\x)
                        sin ++(\x,-\x)
                        cos ++(\x, \x);
    \draw(-1.0, 0.25) node[]{\small 230\,V};
\end{circuitikz}
\end{document}

